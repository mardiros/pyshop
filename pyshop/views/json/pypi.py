from ..base import ViewBase

from pyshop.models import Release
from pyshop.helpers import pypi

def list_package(self, request):
    return pypi.list_package(request.registry.settings['pypi.url'],
                             request.matchdict['package_name'])


class PackageVersionList(ViewBase):

    def render(self, request, session):

        release = Release.by_version(session,
                                     request.matchdict['package_name'],
                                     request.matchdict['version'],
                                     )
        if not release:
            release = list_package(request.registry.settings['pypi.url'],
                                   request.matchdict['package_name'],
                                   request.matchdict['version'],
                                   )
            release = Release.from_pypi(session, release)

        return release

'''
{
    "info": {
        "maintainer": null, 
        "docs_url": "", 
        "requires_python": null, 
        "maintainer_email": null, 
        "cheesecake_code_kwalitee_id": null, 
        "keywords": "web wsgi pylons pyramid", 
        "package_url": "http://pypi.python.org/pypi/pyramid", 
        "author": "Chris McDonough, Agendaless Consulting", 
        "author_email": "pylons-discuss@googlegroups.com", 
        "download_url": "UNKNOWN", 
        "platform": "UNKNOWN", 
        "version": "1.4b1", 
        "cheesecake_documentation_id": null, 
        "_pypi_hidden": false, 
        "description": "Pyramid\n=======\n\nPyramid is a small, fast, down-to-earth, open source Python web application\ndevelopment framework. It makes real-world web application development and\ndeployment more fun, more predictable, and more productive.\n\nPyramid is produced by the `Pylons Project <http://pylonsproject.org/>`_.\n\nSupport and Documentation\n-------------------------\n\nSee the `Pylons Project website <http://pylonsproject.org/>`_ to view\ndocumentation, report bugs, and obtain support.\n\nLicense\n-------\n\nPyramid is offered under the BSD-derived `Repoze Public License\n<http://repoze.org/license.html>`_.\n\nAuthors\n-------\n\nPyramid is made available by `Agendaless Consulting <http://agendaless.com>`_\nand a team of contributors.\n\n\n\n1.4b1 (2012-11-21)\n==================\n\nFeatures\n--------\n\n- Small microspeed enhancement which anticipates that a\n  ``pyramid.response.Response`` object is likely to be returned from a view.\n  Some code is shortcut if the class of the object returned by a view is this\n  class.  A similar microoptimization was done to\n  ``pyramid.request.Request.is_response``.\n\n- Make it possible to use variable arguments on ``p*`` commands (``pserve``,\n  ``pshell``, ``pviews``, etc) in the form ``a=1 b=2`` so you can fill in\n  values in parameterized ``.ini`` file, e.g. ``pshell etc/development.ini\n  http_port=8080``.  See https://github.com/Pylons/pyramid/pull/714\n\n- A somewhat advanced and obscure feature of Pyramid event handlers is their\n  ability to handle \"multi-interface\" notifications.  These notifications have\n  traditionally presented multiple objects to the subscriber callable.  For\n  instance, if an event was sent by code like this::\n\n     registry.notify(event, context)\n\n  In the past, in order to catch such an event, you were obligated to write and\n  register an event subscriber that mentioned both the event and the context in\n  its argument list::\n\n     @subscriber([SomeEvent, SomeContextType])\n     def asubscriber(event, context):\n         pass\n\n  In many subscriber callables registered this way, it was common for the logic\n  in the subscriber callable to completely ignore the second and following\n  arguments (e.g. ``context`` in the above example might be ignored), because\n  they usually existed as attributes of the event anyway.  You could usually\n  get the same value by doing ``event.context`` or similar.\n\n  The fact that you needed to put an extra argument which you usually ignored\n  in the subscriber callable body was only a minor annoyance until we added\n  \"subscriber predicates\", used to narrow the set of circumstances under which\n  a subscriber will be executed, in a prior 1.4 alpha release.  Once those were\n  added, the annoyance was escalated, because subscriber predicates needed to\n  accept the same argument list and arity as the subscriber callables that they\n  were configured against.  So, for example, if you had these two subscriber\n  registrations in your code::\n\n     @subscriber([SomeEvent, SomeContextType])\n     def asubscriber(event, context):\n         pass\n\n     @subscriber(SomeOtherEvent)\n     def asubscriber(event):\n         pass\n \n  And you wanted to use a subscriber predicate::\n\n     @subscriber([SomeEvent, SomeContextType], mypredicate=True)\n     def asubscriber1(event, context):\n         pass\n\n     @subscriber(SomeOtherEvent, mypredicate=True)\n     def asubscriber2(event):\n         pass\n\n  If an existing ``mypredicate`` subscriber predicate had been written in such\n  a way that it accepted only one argument in its ``__call__``, you could not\n  use it against a subscription which named more than one interface in its\n  subscriber interface list.  Similarly, if you had written a subscriber\n  predicate that accepted two arguments, you couldn't use it against a\n  registration that named only a single interface type.\n\n  For example, if you created this predicate::\n\n    class MyPredicate(object):\n        # portions elided...\n        def __call__(self, event):\n            return self.val == event.context.foo\n\n  It would not work against a multi-interface-registered subscription, so in\n  the above example, when you attempted to use it against ``asubscriber1``, it\n  would fail at runtime with a TypeError, claiming something was attempting to\n  call it with too many arguments.\n\n  To hack around this limitation, you were obligated to design the\n  ``mypredicate`` predicate to expect to receive in its ``__call__`` either a\n  single ``event`` argument (a SomeOtherEvent object) *or* a pair of arguments\n  (a SomeEvent object and a SomeContextType object), presumably by doing\n  something like this::\n\n    class MyPredicate(object):\n        # portions elided...\n        def __call__(self, event, context=None):\n            return self.val == event.context.foo\n\n  This was confusing and bad.\n\n  In order to allow people to ignore unused arguments to subscriber callables\n  and to normalize the relationship between event subscribers and subscriber\n  predicates, we now allow both subscribers and subscriber predicates to accept\n  only a single ``event`` argument even if they've been subscribed for\n  notifications that involve multiple interfaces.  Subscribers and subscriber\n  predicates that accept only one argument will receive the first object passed\n  to ``notify``; this is typically (but not always) the event object.  The\n  other objects involved in the subscription lookup will be discarded.  You can\n  now write an event subscriber that accepts only ``event`` even if it\n  subscribes to multiple interfaces::\n\n     @subscriber([SomeEvent, SomeContextType])\n     def asubscriber(event):\n         # this will work!\n\n  This prevents you from needing to match the subscriber callable parameters to\n  the subscription type unnecessarily, especially when you don't make use of\n  any argument in your subscribers except for the event object itself.\n\n  Note, however, that if the event object is not the first\n  object in the call to ``notify``, you'll run into trouble.  For example, if\n  notify is called with the context argument first::\n\n     registry.notify(context, event)\n\n  You won't be able to take advantage of the event-only feature.  It will\n  \"work\", but the object received by your event handler won't be the event\n  object, it will be the context object, which won't be very useful::\n\n     @subscriber([SomeContextType, SomeEvent])\n     def asubscriber(event):\n         # bzzt! you'll be getting the context here as ``event``, and it'll \n         # be useless\n\n  Existing multiple-argument subscribers continue to work without issue, so you\n  should continue use those if your system notifies using multiple interfaces\n  and the first interface is not the event interface.  For example::\n\n     @subscriber([SomeContextType, SomeEvent])\n     def asubscriber(context, event):\n         # this will still work!\n\n  The event-only feature makes it possible to use a subscriber predicate that\n  accepts only a request argument within both multiple-interface subscriber\n  registrations and single-interface subscriber registrations.  You needn't\n  make slightly different variations of predicates depending on the\n  subscription type arguments.  Instead, just write all your subscriber\n  predicates so they only accept ``event`` in their ``__call__`` and they'll be\n  useful across all registrations for subscriptions that use an event as their\n  first argument, even ones which accept more than just ``event``.\n\n  However, the same caveat applies to predicates as to subscriber callables: if\n  you're subscribing to a multi-interface event, and the first interface is not\n  the event interface, the predicate won't work properly.  In such a case,\n  you'll need to match the predicate ``__call__`` argument ordering and\n  composition to the ordering of the interfaces.  For example, if the\n  registration for the subscription uses ``[SomeContext, SomeEvent]``, you'll\n  need to reflect that in the ordering of the parameters of the predicate's\n  ``__call__`` method::\n\n        def __call__(self, context, event):\n            return event.request.path.startswith(self.val)\n\n  tl;dr: 1) When using multi-interface subscriptions, always use the event type\n  as the first subscription registration argument and 2) When 1 is true, use\n  only ``event`` in your subscriber and subscriber predicate parameter lists,\n  no matter how many interfaces the subscriber is notified with.  This\n  combination will result in the maximum amount of reusability of subscriber\n  predicates and the least amount of thought on your part.  Drink responsibly.\n\nBug Fixes\n---------\n\n- A failure when trying to locate the attribute ``__text__`` on route and view\n  predicates existed when the ``debug_routematch`` setting was true or when the\n  ``pviews`` command was used. See https://github.com/Pylons/pyramid/pull/727\n\nDocumentation\n-------------\n\n- Sync up tutorial source files with the files that are rendered by the\n  scaffold that each uses.\n\n1.4a4 (2012-11-14)\n==================\n\nFeatures\n--------\n\n- ``pyramid.authentication.AuthTktAuthenticationPolicy`` has been updated to\n  support newer hashing algorithms such as ``sha512``. Existing applications\n  should consider updating if possible for improved security over the default\n  md5 hashing.\n\n- Added an ``effective_principals`` route and view predicate.\n\n- Do not allow the userid returned from the ``authenticated_userid`` or the\n  userid that is one of the list of principals returned by\n  ``effective_principals`` to be either of the strings ``system.Everyone`` or\n  ``system.Authenticated`` when any of the built-in authorization policies that\n  live in ``pyramid.authentication`` are in use.  These two strings are\n  reserved for internal usage by Pyramid and they will not be accepted as valid\n  userids.\n\n- Slightly better debug logging from\n  ``pyramid.authentication.RepozeWho1AuthenticationPolicy``.\n\n- ``pyramid.security.view_execution_permitted`` used to return ``True`` if no\n  view could be found. It now raises a ``TypeError`` exception in that case, as\n  it doesn't make sense to assert that a nonexistent view is\n  execution-permitted. See https://github.com/Pylons/pyramid/issues/299.\n\n- Allow a ``_depth`` argument to ``pyramid.view.view_config``, which will\n  permit limited composition reuse of the decorator by other software that\n  wants to provide custom decorators that are much like view_config.\n\n- Allow an iterable of decorators to be passed to\n  ``pyramid.config.Configurator.add_view``. This allows views to be wrapped\n  by more than one decorator without requiring combining the decorators\n  yourself.\n\nBug Fixes\n---------\n\n- In the past if a renderer returned ``None``, the body of the resulting\n  response would be set explicitly to the empty string.  Instead, now, the body\n  is left unchanged, which allows the renderer to set a body itself by using\n  e.g. ``request.response.body = b'foo'``.  The body set by the renderer will\n  be unmolested on the way out.  See\n  https://github.com/Pylons/pyramid/issues/709\n\n- In uncommon cases, the ``pyramid_excview_tween_factory`` might have\n  inadvertently raised a ``KeyError`` looking for ``request_iface`` as an\n  attribute of the request.  It no longer fails in this case.  See\n  https://github.com/Pylons/pyramid/issues/700\n\n- Be more tolerant of potential error conditions in ``match_param`` and\n  ``physical_path`` predicate implementations; instead of raising an exception,\n  return False.\n\n- ``pyramid.view.render_view`` was not functioning properly under Python 3.x\n  due to a byte/unicode discrepancy. See\n  http://github.com/Pylons/pyramid/issues/721\n\nDeprecations\n------------\n\n- ``pyramid.authentication.AuthTktAuthenticationPolicy`` will emit a warning if\n  an application is using the policy without explicitly passing a ``hashalg``\n  argument. This is because the default is \"md5\" which is considered\n  theoretically subject to collision attacks. If you really want \"md5\" then you\n  must specify it explicitly to get rid of the warning.\n\nDocumentation\n-------------\n\n- All of the tutorials that use\n  ``pyramid.authentication.AuthTktAuthenticationPolicy`` now explicitly pass\n  ``sha512`` as a ``hashalg`` argument.\n\n\nInternals\n---------\n\n- Move ``TopologicalSorter`` from ``pyramid.config.util`` to ``pyramid.util``,\n  move ``CyclicDependencyError`` from ``pyramid.config.util`` to\n  ``pyramid.exceptions``, rename ``Singleton`` to ``Sentinel`` and move from\n  ``pyramid.config.util`` to ``pyramid.util``; this is in an effort to\n  move that stuff that may be an API one day out of ``pyramid.config.util``,\n  because that package should never be imported from non-Pyramid code.\n  TopologicalSorter is still not an API, but may become one.\n\n- Get rid of shady monkeypatching of ``pyramid.request.Request`` and\n  ``pyramid.response.Response`` done within the ``__init__.py`` of Pyramid.\n  Webob no longer relies on this being done.  Instead, the ResponseClass\n  attribute of the Pyramid Request class is assigned to the Pyramid response\n  class; that's enough to satisfy WebOb and behave as it did before with the\n  monkeypatching.\n\n1.4a3 (2012-10-26)\n==================\n\nBug Fixes\n---------\n\n- The match_param predicate's text method was fixed to sort its values.\n  Part of https://github.com/Pylons/pyramid/pull/705\n\n- 1.4a ``pyramid.scripting.prepare`` behaved differently than 1.3 series\n  function of same name.  In particular, if passed a request, it would not\n  set the ``registry`` attribute of the request like 1.3 did.  A symptom\n  would be that passing a request to ``pyramid.paster.bootstrap`` (which uses\n  the function) that did not have a ``registry`` attribute could assume that\n  the registry would be attached to the request by Pyramid.  This assumption\n  could be made in 1.3, but not in 1.4.  The assumption can now be made in\n  1.4 too (a registry is attached to a request passed to bootstrap or\n  prepare).\n\n- When registering a view configuration that named a Chameleon ZPT renderer\n  with a macro name in it (e.g. ``renderer='some/template#somemacro.pt``) as\n  well as a view configuration without a macro name it it that pointed to the\n  same template (e.g. ``renderer='some/template.pt'``), internal caching could\n  confuse the two, and your code might have rendered one instead of the\n  other.\n\nFeatures\n--------\n\n- Allow multiple values to be specified to the ``request_param`` view/route\n  predicate as a sequence.  Previously only a single string value was allowed.\n  See https://github.com/Pylons/pyramid/pull/705\n\n- Comments with references to documentation sections placed in scaffold\n  ``.ini`` files.\n\n- Added an HTTP Basic authentication policy\n  at ``pyramid.authentication.BasicAuthAuthenticationPolicy``.\n\n- The Configurator ``testing_securitypolicy`` method now returns the policy\n  object it creates.\n\n- The Configurator ``testing_securitypolicy`` method accepts two new\n  arguments: ``remember_result`` and ``forget_result``.  If supplied, these\n  values influence the result of the policy's ``remember`` and ``forget``\n  methods, respectively.\n\n- The DummySecurityPolicy created by ``testing_securitypolicy`` now sets a\n  ``forgotten`` value on the policy (the value ``True``) when its ``forget``\n  method is called.\n\n- The DummySecurityPolicy created by ``testing_securitypolicy`` now sets a\n  ``remembered`` value on the policy, which is the value of the ``principal``\n  argument it's called with when its ``remember`` method is called.\n\n- New ``physical_path`` view predicate.  If specified, this value should be a\n  string or a tuple representing the physical traversal path of the context\n  found via traversal for this predicate to match as true.  For example:\n  ``physical_path='/'`` or ``physical_path='/a/b/c'`` or ``physical_path=('',\n  'a', 'b', 'c')``.  This is not a path prefix match or a regex, it's a\n  whole-path match.  It's useful when you want to always potentially show a\n  view when some object is traversed to, but you can't be sure about what kind\n  of object it will be, so you can't use the ``context`` predicate.  The\n  individual path elements inbetween slash characters or in tuple elements\n  should be the Unicode representation of the name of the resource and should\n  not be encoded in any way.\n\n1.4a2 (2012-09-27)\n==================\n\nBug Fixes\n---------\n\n- When trying to determine Mako defnames and Chameleon macro names in asset\n  specifications, take into account that the filename may have a hyphen in\n  it.  See https://github.com/Pylons/pyramid/pull/692\n\nFeatures\n--------\n\n- A new ``pyramid.session.check_csrf_token`` convenience function was added.\n\n- A ``check_csrf`` view predicate was added.  For example, you can now do\n  ``config.add_view(someview, check_csrf=True)``.  When the predicate is\n  checked, if the ``csrf_token`` value in ``request.params`` matches the CSRF\n  token in the request's session, the view will be permitted to execute.\n  Otherwise, it will not be permitted to execute.\n\n- Add ``Base.metadata.bind = engine`` to alchemy template, so that tables\n  defined imperatively will work.\n\nDocumentation\n-------------\n\n- update wiki2 SQLA tutorial with the changes required after inserting\n  ``Base.metadata.bind = engine`` into the alchemy scaffold.\n\n1.4a1 (2012-09-16)\n==================\n\nBug Fixes\n---------\n\n- Forward port from 1.3 branch: When no authentication policy was configured,\n  a call to ``pyramid.security.effective_principals`` would unconditionally\n  return the empty list.  This was incorrect, it should have unconditionally\n  returned ``[Everyone]``, and now does.\n\n- Explicit url dispatch regexes can now contain colons.\n  https://github.com/Pylons/pyramid/issues/629\n\n- On at least one 64-bit Ubuntu system under Python 3.2, using the\n  ``view_config`` decorator caused a ``RuntimeError: dictionary changed size\n  during iteration`` exception.  It no longer does.  See\n  https://github.com/Pylons/pyramid/issues/635 for more information.\n\n- In Mako Templates lookup, check if the uri is already adjusted and bring\n  it back to an asset spec. Normally occurs with inherited templates or\n  included components.\n  https://github.com/Pylons/pyramid/issues/606\n  https://github.com/Pylons/pyramid/issues/607\n\n- In Mako Templates lookup, check for absolute uri (using mako directories) \n  when mixing up inheritance with asset specs.\n  https://github.com/Pylons/pyramid/issues/662\n\n- HTTP Accept headers were not being normalized causing potentially\n  conflicting view registrations to go unnoticed. Two views that only\n  differ in the case ('text/html' vs. 'text/HTML') will now raise an error.\n  https://github.com/Pylons/pyramid/pull/620\n\n- Forward-port from 1.3 branch: when registering multiple views with an\n  ``accept`` predicate in a Pyramid application runing under Python 3, you\n  might have received a ``TypeError: unorderable types: function() <\n  function()`` exception.\n\nFeatures\n--------\n\n- Configurator.add_directive now accepts arbitrary callables like partials or\n  objects implementing ``__call__`` which dont have ``__name__`` and\n  ``__doc__`` attributes.  See https://github.com/Pylons/pyramid/issues/621\n  and https://github.com/Pylons/pyramid/pull/647.\n\n- Third-party custom view, route, and subscriber predicates can now be added\n  for use by view authors via\n  ``pyramid.config.Configurator.add_view_predicate``,\n  ``pyramid.config.Configurator.add_route_predicate`` and\n  ``pyramid.config.Configurator.add_subscriber_predicate``.  So, for example,\n  doing this::\n\n     config.add_view_predicate('abc', my.package.ABCPredicate)\n\n  Might allow a view author to do this in an application that configured that\n  predicate::\n\n     @view_config(abc=1)\n\n  Similar features exist for ``add_route``, and ``add_subscriber``.  See\n  \"Adding A Third Party View, Route, or Subscriber Predicate\" in the Hooks\n  chapter for more information.\n\n  Note that changes made to support the above feature now means that only\n  actions registered using the same \"order\" can conflict with one another.\n  It used to be the case that actions registered at different orders could\n  potentially conflict, but to my knowledge nothing ever depended on this\n  behavior (it was a bit silly).\n\n- Custom objects can be made easily JSON-serializable in Pyramid by defining\n  a ``__json__`` method on the object's class. This method should return\n  values natively serializable by ``json.dumps`` (such as ints, lists,\n  dictionaries, strings, and so forth).\n\n- The JSON renderer now allows for the definition of custom type adapters to\n  convert unknown objects to JSON serializations.\n\n- As of this release, the ``request_method`` predicate, when used, will also\n  imply that ``HEAD`` is implied when you use ``GET``.  For example, using\n  ``@view_config(request_method='GET')`` is equivalent to using\n  ``@view_config(request_method=('GET', 'HEAD'))``.  Using\n  ``@view_config(request_method=('GET', 'POST')`` is equivalent to using\n  ``@view_config(request_method=('GET', 'HEAD', 'POST')``.  This is because\n  HEAD is a variant of GET that omits the body, and WebOb has special support\n  to return an empty body when a HEAD is used.\n\n- ``config.add_request_method`` has been introduced to support extending\n  request objects with arbitrary callables. This method expands on the\n  previous ``config.set_request_property`` by supporting methods as well as\n  properties. This method now causes less code to be executed at\n  request construction time than ``config.set_request_property`` in\n  version 1.3.\n\n- Don't add a ``?`` to URLs generated by ``request.resource_url`` if the\n  ``query`` argument is provided but empty.\n\n- Don't add a ``?`` to URLs generated by ``request.route_url`` if the\n  ``_query`` argument is provided but empty.\n\n- The static view machinery now raises (rather than returns) ``HTTPNotFound``\n  and ``HTTPMovedPermanently`` exceptions, so these can be caught by the\n  NotFound view (and other exception views).\n\n- The Mako renderer now supports a def name in an asset spec.  When the def\n  name is present in the asset spec, the system will render the template def\n  within the template and will return the result. An example asset spec is\n  ``package:path/to/template#defname.mako``. This will render the def named\n  ``defname`` inside the ``template.mako`` template instead of rendering the\n  entire template.  The old way of returning a tuple in the form\n  ``('defname', {})`` from the view is supported for backward compatibility,\n\n- The Chameleon ZPT renderer now accepts a macro name in an asset spec.  When\n  the macro name is present in the asset spec, the system will render the\n  macro listed as a ``define-macro`` and return the result instead of\n  rendering the entire template.  An example asset spec:\n  ``package:path/to/template#macroname.pt``.  This will render the macro\n  defined as ``macroname`` within the ``template.pt`` template instead of the\n  entire templae.\n\n- When there is a predicate mismatch exception (seen when no view matches for\n  a given request due to predicates not working), the exception now contains\n  a textual description of the predicate which didn't match.\n\n- An ``add_permission`` directive method was added to the Configurator.  This\n  directive registers a free-standing permission introspectable into the\n  Pyramid introspection system.  Frameworks built atop Pyramid can thus use\n  the the ``permissions`` introspectable category data to build a\n  comprehensive list of permissions supported by a running system.  Before\n  this method was added, permissions were already registered in this\n  introspectable category as a side effect of naming them in an ``add_view``\n  call, this method just makes it possible to arrange for a permission to be\n  put into the ``permissions`` introspectable category without naming it\n  along with an associated view.  Here's an example of usage of\n  ``add_permission``::\n\n      config = Configurator()\n      config.add_permission('view')\n\n- The ``UnencryptedCookieSessionFactoryConfig`` now accepts\n  ``signed_serialize`` and ``signed_deserialize`` hooks which may be used\n  to influence how the sessions are marshalled (by default this is done\n  with HMAC+pickle).\n\n- ``pyramid.testing.DummyRequest`` now supports methods supplied by the\n  ``pyramid.util.InstancePropertyMixin`` class such as ``set_property``.\n\n- Request properties and methods added via ``config.set_request_property`` or\n  ``config.add_request_method`` are now available to tweens.\n\n- Request properties and methods added via ``config.set_request_property`` or\n  ``config.add_request_method`` are now available in the request object\n  returned from ``pyramid.paster.bootstrap``.\n\n- ``request.context`` of environment request during ``bootstrap`` is now the\n  root object if a context isn't already set on a provided request.\n\n- The ``pyramid.decorator.reify`` function is now an API, and was added to\n  the API documentation.\n\n- Added the ``pyramid.testing.testConfig`` context manager, which can be used\n  to generate a configurator in a test, e.g. ``with testing.testConfig(...):``.\n\n- Users can now invoke a subrequest from within view code using a new\n  ``request.invoke_subrequest`` API.\n\nDeprecations\n------------\n\n- The ``pyramid.config.Configurator.set_request_property`` has been\n  documentation-deprecated.  The method remains usable but the more\n  featureful ``pyramid.config.Configurator.add_request_method`` should be\n  used in its place (it has all of the same capabilities but can also extend\n  the request object with methods).\n\nBackwards Incompatibilities\n---------------------------\n\n- The Pyramid router no longer adds the values ``bfg.routes.route`` or\n  ``bfg.routes.matchdict`` to the request's WSGI environment dictionary.\n  These values were docs-deprecated in ``repoze.bfg`` 1.0 (effectively seven\n  minor releases ago).  If your code depended on these values, use\n  request.matched_route and request.matchdict instead.\n\n- It is no longer possible to pass an environ dictionary directly to\n  ``pyramid.traversal.ResourceTreeTraverser.__call__`` (aka\n  ``ModelGraphTraverser.__call__``).  Instead, you must pass a request\n  object.  Passing an environment instead of a request has generated a\n  deprecation warning since Pyramid 1.1.\n\n- Pyramid will no longer work properly if you use the\n  ``webob.request.LegacyRequest`` as a request factory.  Instances of the\n  LegacyRequest class have a ``request.path_info`` which return a string.\n  This Pyramid release assumes that ``request.path_info`` will\n  unconditionally be Unicode.\n\n- The functions from ``pyramid.chameleon_zpt`` and ``pyramid.chameleon_text``\n  named ``get_renderer``, ``get_template``, ``render_template``, and\n  ``render_template_to_response`` have been removed.  These have issued a\n  deprecation warning upon import since Pyramid 1.0.  Use\n  ``pyramid.renderers.get_renderer()``,\n  ``pyramid.renderers.get_renderer().implementation()``,\n  ``pyramid.renderers.render()`` or ``pyramid.renderers.render_to_response``\n  respectively instead of these functions.\n\n- The ``pyramid.configuration`` module was removed.  It had been deprecated\n  since Pyramid 1.0 and printed a deprecation warning upon its use.  Use\n  ``pyramid.config`` instead.\n\n- The ``pyramid.paster.PyramidTemplate`` API was removed.  It had been\n  deprecated since Pyramid 1.1 and issued a warning on import.  If your code\n  depended on this, adjust your code to import\n  ``pyramid.scaffolds.PyramidTemplate`` instead.\n\n- The ``pyramid.settings.get_settings()`` API was removed.  It had been\n  printing a deprecation warning since Pyramid 1.0.  If your code depended on\n  this API, use ``pyramid.threadlocal.get_current_registry().settings``\n  instead or use the ``settings`` attribute of the registry available from\n  the request (``request.registry.settings``).\n\n- These APIs from the ``pyramid.testing`` module were removed.  They have\n  been printing deprecation warnings since Pyramid 1.0:\n\n  * ``registerDummySecurityPolicy``, use\n    ``pyramid.config.Configurator.testing_securitypolicy`` instead.\n\n  * ``registerResources`` (aka ``registerModels``, use\n    ``pyramid.config.Configurator.testing_resources`` instead.\n\n  * ``registerEventListener``, use\n    ``pyramid.config.Configurator.testing_add_subscriber`` instead.\n\n  * ``registerTemplateRenderer`` (aka `registerDummyRenderer``), use\n    ``pyramid.config.Configurator.testing_add_template`` instead.\n\n  * ``registerView``, use ``pyramid.config.Configurator.add_view`` instead.\n\n  * ``registerUtility``, use\n    ``pyramid.config.Configurator.registry.registerUtility`` instead.\n\n  * ``registerAdapter``, use\n    ``pyramid.config.Configurator.registry.registerAdapter`` instead.\n\n  * ``registerSubscriber``, use \n    ``pyramid.config.Configurator.add_subscriber`` instead.\n\n  * ``registerRoute``, use \n    ``pyramid.config.Configurator.add_route`` instead.\n\n  * ``registerSettings``, use \n    ``pyramid.config.Configurator.add_settings`` instead.\n\n- In Pyramid 1.3 and previous, the ``__call__`` method of a Response object\n  was invoked before any finished callbacks were executed.  As of this\n  release, the ``__call__`` method of a Response object is invoked *after*\n  finished callbacks are executed.  This is in support of the\n  ``request.invoke_subrequest`` feature.\n\nDocumentation\n-------------\n\n- Added an \"Upgrading Pyramid\" chapter to the narrative documentation.  It\n  describes how to cope with deprecations and removals of Pyramid APIs and\n  how to show Pyramid-generated deprecation warnings while running tests and\n  while running a server.\n\n- Added a \"Invoking a Subrequest\" chapter to the documentation.  It describes\n  how to use the new ``request.invoke_subrequest`` API.\n\nDependencies\n------------\n\n- Pyramid now requires WebOb 1.2b3+ (the prior Pyramid release only relied on\n  1.2dev+).  This is to ensure that we obtain a version of WebOb that returns\n  ``request.path_info`` as text.", 
        "release_url": "http://pypi.python.org/pypi/pyramid/1.4b1", 
        "_pypi_ordering": 167, 
        "bugtrack_url": null, 
        "name": "pyramid", 
        "license": "BSD-derived (http://www.repoze.org/LICENSE.txt)", 
        "summary": "The Pyramid web application development framework, a Pylons project", 
        "home_page": "http://pylonsproject.org", 
        "stable_version": null, 
        "cheesecake_installability_id": null
    }, 
    "urls": [
        {
            "has_sig": false, 
            "upload_time": "2012-11-22T04:22:10", 
            "comment_text": "", 
            "python_version": "source", 
            "url": "http://pypi.python.org/packages/source/p/pyramid/pyramid-1.4b1.tar.gz", 
            "md5_digest": "c347a8cf81a2a2d6d6b4a5ba18b236c0", 
            "downloads": 4493, 
            "filename": "pyramid-1.4b1.tar.gz", 
            "packagetype": "sdist", 
            "size": 2422201
        }
    ]
}'''
